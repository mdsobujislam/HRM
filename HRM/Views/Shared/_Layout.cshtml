@using System.Security.Claims
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"]</title>
    <link rel="shortcut icon" type="image/x-icon" href="~/favicon.ico" />

    <link rel="stylesheet" href="~/assets/plugins/select2/css/select2.min.css">

    <link rel="stylesheet" href="~/assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/assets/css/animate.css" />
    <link rel="stylesheet" href="~/assets/css/dataTables.bootstrap4.min.css" />
    <link rel="stylesheet" href="~/assets/plugins/fontawesome/css/fontawesome.min.css" />
    <link rel="stylesheet" href="~/assets/plugins/fontawesome/css/all.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="~/assets/css/style.css" />
    <link rel="stylesheet" href="~/dist/themes/default/style.min.css" />
    <link href="~/css/toastr.min.css" rel="stylesheet" />
    @* for Text Editor *@
    @* <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" /> *@

    <style>
        /* Shrink entire popup */
        .flatpickr-calendar {
            font-size: 12px !important;
            max-width: 220px !important;
        }

        /* Shrink day cells */
        .flatpickr-day,
        .flatpickr-weekday {
            padding: 4px !important;
            width: 28px !important;
            height: 28px !important;
            line-height: 28px !important;
        }

        /* Fix month and year container */
        .flatpickr-months {
            font-size: 13px !important;
        }

        /* Month navigation: arrows + text */
        .flatpickr-month {
            height: 28px !important;
            line-height: 28px !important;
        }

        /* Year input */
        .flatpickr-current-month input.cur-year {
            font-size: 12px !important;
            height: 24px !important;
            width: 50px !important;
        }

        /* Month name dropdown */
        .flatpickr-current-month .flatpickr-monthDropdown-months {
            font-size: 12px !important;
            height: 24px !important;
        }

        /* Optional: Time picker if enabled */
        .flatpickr-time {
            font-size: 12px !important;
        }
    </style>
    @RenderSection("Styles", required: false)

</head>

<body>
    @* <div id="global-loader"> *@
    @*     <div class="whirly-loader"></div> *@
    @* </div> *@

    <div class="main-wrapper">
        <div class="header">
            <div class="header-left active">
                <a asp-controller="Home" asp-action="Dashboard" class="logo">
                    @* <img id="logoPreview"
                         src="@(!string.IsNullOrEmpty(Model.ExistingLogoPath) ? Url.Content(Model.ExistingLogoPath) : "")"
                         alt="Current Logo"
                         width="150"
                         style="display:@(string.IsNullOrEmpty(Model.ExistingLogoPath) ? "none" : "block");  padding:5px;" /> *@

                    <img src="~/assets/img/logonew.png" alt="" />
                </a>
                <a asp-controller="Home" asp-action="Dashboard" class="logo-small">
                    @* <img id="logoPreview"
                         src="@(!string.IsNullOrEmpty(Model.ExistingLogoPath) ? Url.Content(Model.ExistingLogoPath) : "")"
                         alt="Current Logo"
                         width="150"
                         style="display:@(string.IsNullOrEmpty(Model.ExistingLogoPath) ? "none" : "block");  padding:5px;" /> *@
                    <img src="~/assets/img/logo-small.png" alt="" />
                </a>
                <a id="toggle_btn" href="javascript:void(0);"> </a>
            </div>

            <a id="mobile_btn" class="mobile_btn" href="#sidebar">
                <span class="bar-icon">
                    <span></span>
                    <span></span>
                    <span></span>
                </span>
            </a>

            <ul class="nav user-menu">
                <li class="nav-item dropdown">
                    <a href="javascript:void(0);" class="dropdown-toggle nav-link" data-bs-toggle="dropdown">
                        <img src="~/assets/img/icons/notification-bing.svg" alt="img" />
                        <span class="badge rounded-pill">1</span>
                    </a>
                    <div class="dropdown-menu notifications">
                        <div class="topnav-dropdown-header">
                            <span class="notification-title">Notifications</span>
                            <a href="javascript:void(0)" class="clear-noti"> Clear All </a>
                        </div>
                        <div class="noti-content">
                            <ul class="notification-list">

                                <li class="notification-message" style="display:none">
                                    <a href="#">
                                        <div class="media d-flex">
                                            <span class="avatar flex-shrink-0">
                                                <i data-feather="user" class="user-icon"></i>
                                            </span>
                                            <div class="media-body flex-grow-1">
                                                <p class="noti-details">
                                                    <span class="noti-title">Rezaul Karim</span> added new
                                                    task
                                                    <span class="noti-title">Message for add New Product</span>
                                                </p>
                                                <p class="noti-time">
                                                    <span class="notification-time">4 mins ago</span>
                                                </p>
                                            </div>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="topnav-dropdown-footer">
                            <a href="#">View all Notifications</a>
                        </div>
                    </div>
                </li>

                <li class="nav-item dropdown has-arrow main-drop">
                    @if (User.Identity!.IsAuthenticated)
                    {
                        <a href="javascript:void(0);" class="dropdown-toggle nav-link userset" data-bs-toggle="dropdown">
                            <i data-feather="user" class="user-icon"></i>
                        </a>
                        <div class="dropdown-menu menu-drop-user">
                            <div class="profilename">
                                <div class="profileset">
                                    <i data-feather="user" class="user-icon"></i>
                                    <div class="profilesets">
                                        <h6>@User.Identity.Name</h6>
                                        <h5>@User.FindFirstValue(ClaimTypes.Role)</h5>
                                    </div>
                                </div>
                                <hr class="m-0" />
                                <a class="dropdown-item" href="#">
                                    <i class="me-2" data-feather="user"></i> My Profile
                                </a>
                                <a asp-controller="Auth" asp-action="ResetPassword" class="dropdown-item">
                                    <i class="me-2"
                                       data-feather="settings"></i>Reset Password
                                </a>
                                <hr class="m-0" />
                                <a class="dropdown-item logout pb-0" asp-controller="Auth" asp-action="Logout">
                                    <img src="~/assets/img/icons/log-out.svg" class="me-2" alt="img" />Logout
                                </a>
                            </div>
                        </div>
                    }
                </li>
            </ul>

            <div class="dropdown mobile-user-menu">
                <a href="javascript:void(0);" class="nav-link dropdown-toggle" data-bs-toggle="dropdown"
                   aria-expanded="false">
                    <i class="fa fa-ellipsis-v"></i>
                </a>
                <div class="dropdown-menu dropdown-menu-right">
                    <a class="dropdown-item" href="#">My Profile</a>
                    <a class="dropdown-item" href="#">Settings</a>
                    <a class="dropdown-item" asp-controller="Auth" asp-action="Logout">Logout</a>
                </div>
            </div>
        </div>

        <div class="sidebar" id="sidebar">
            <div class="sidebar-inner slimscroll">
                <div id="sidebar-menu" class="sidebar-menu">
                    @{
                        // Extract current Controller and Action to determine which menus should be active/open
                        var currentController = ViewContext.RouteData.Values["Controller"]?.ToString();
                        var currentAction = ViewContext.RouteData.Values["Action"]?.ToString();
                    }
                    <ul>
                        <!-- Dashboard Link -->
                        <li class="@(currentController == "Home" && currentAction == "Dashboard" ? "active" : "")">
                            <!-- Keeping the original image icon for Dashboard -->
                            <a asp-controller="Home" asp-action="Dashboard">
                                <img src="~/assets/img/icons/dashboard.svg" alt="img" />
                                <span>Dashboard</span>
                            </a>
                        </li>

                        <!-- ============================================== -->
                        <!-- SETTINGS MENU -->
                        @{
                            var settingsControllers = new[] { "Companies", "Branch", "AddUser", "Department", "Designation", "Employee" };
                            var isSettingsActive = settingsControllers.Contains(currentController);
                        }
                        <li class="submenu @(isSettingsActive ? "active" : "")">
                            <a href="javascript:void(0);" class="@(isSettingsActive ? "subdrop" : "")">
                                <i data-feather="settings" class="me-2"></i>
                                <span>Settings</span>
                                <span class="menu-arrow"></span>
                            </a>
                            <ul style="display: @(isSettingsActive ? "block" : "none")">
                                <li class="@(currentController == "Companies" ? "active" : "")">
                                    <a asp-controller="Companies" asp-action="Index" style="@(currentController != "Companies" ? "color: white;" : "")">Company Settings</a>
                                </li>
                                <li class="@(currentController == "Branch" ? "active" : "")">
                                    <a asp-controller="Branch" asp-action="Index" style="@(currentController != "Branch" ? "color: white;" : "")">Add Branch</a>
                                </li>
                                <li class="@(currentController == "AddUser" ? "active" : "")">
                                    <a asp-controller="AddUser" asp-action="Index" style="@(currentController != "AddUser" ? "color: white;" : "")">Add User</a>
                                </li>
                                <li class="@(currentController == "Department" ? "active" : "")">
                                    <a asp-controller="Department" asp-action="Index" style="@(currentController != "Department" ? "color: white;" : "")">Department</a>
                                </li>
                                <li class="@(currentController == "Designation" ? "active" : "")">
                                    <a asp-controller="Designation" asp-action="Index" style="@(currentController != "Designation" ? "color: white;" : "")">Designation</a>
                                </li>
                                <li class="@(currentController == "Employee" && currentAction == "Index" ? "active" : "")">
                                    <a asp-controller="Employee" asp-action="Index" style="@(!(currentController == "Employee" && currentAction == "Index") ? "color: white;" : "")">Employee</a>
                                </li>
                                <li class="@(currentController == "Employee" && currentAction == "GetEmployee" ? "active" : "")">
                                    <a asp-controller="Employee" asp-action="GetEmployee" style="@(!(currentController == "Employee" && currentAction == "GetEmployee") ? "color: white;" : "")">Employee List</a>
                                </li>
                            </ul>
                        </li>
                        <!-- ============================================== -->
                        <!-- ============================================== -->
                        <!-- EMPLOYEE SEPARATION MENU -->
                        @{
                            var separationControllers = new[] { "SeparationReasons", "EmployeeSeparation" };
                            var isSeparationActive = separationControllers.Contains(currentController);
                        }
                        <li class="submenu @(isSeparationActive ? "active" : "")">
                            <a href="javascript:void(0);" class="@(isSeparationActive ? "subdrop" : "")">
                                <i data-feather="user-x" class="me-2"></i>
                                <span>Employee Separation</span>
                                <span class="menu-arrow"></span>
                            </a>
                            <ul style="display: @(isSeparationActive ? "block" : "none")">
                                <li class="@(currentController == "SeparationReasons" ? "active" : "")">
                                    <a asp-controller="SeparationReasons" asp-action="Index" style="@(currentController != "SeparationReasons" ? "color: white;" : "")">Separation Reason</a>
                                </li>
                                <li class="@(currentController == "EmployeeSeparation" ? "active" : "")">
                                    <a asp-controller="EmployeeSeparation" asp-action="Index" style="@(currentController != "EmployeeSeparation" ? "color: white;" : "")">Separation</a>
                                </li>
                            </ul>
                        </li>
                        <!-- ============================================== -->
                        <!-- ============================================== -->
                        <!-- LOAN MANAGEMENT MENU -->
                        @{
                            var loanControllers = new[] { "LoanApplication", "RecommendLoanApplication", "LoanApproval", "EmployeeLoan", "ShowInstalmentList", "LoanInstallment" };
                            var isLoanActive = loanControllers.Contains(currentController);
                        }
                        <li class="submenu @(isLoanActive ? "active" : "")">
                            <a href="javascript:void(0);" class="@(isLoanActive ? "subdrop" : "")">
                                <i data-feather="dollar-sign" class="me-2"></i>
                                <span>Loan Management</span>
                                <span class="menu-arrow"></span>
                            </a>
                            <ul style="display: @(isLoanActive ? "block" : "none")">
                                <li class="@(currentController == "LoanApplication" ? "active" : "")">
                                    <a asp-controller="LoanApplication" asp-action="Index" style="@(currentController != "LoanApplication" ? "color: white;" : "")">Loan Application</a>
                                </li>
                                <li class="@(currentController == "RecommendLoanApplication" ? "active" : "")">
                                    <a asp-controller="RecommendLoanApplication" asp-action="Index" style="@(currentController != "RecommendLoanApplication" ? "color: white;" : "")">Recommend Loan Application</a>
                                </li>
                                <li class="@(currentController == "LoanApproval" ? "active" : "")">
                                    <a asp-controller="LoanApproval" asp-action="Index" style="@(currentController != "LoanApproval" ? "color: white;" : "")">Loan Approval</a>
                                </li>
                                <li class="@(currentController == "EmployeeLoan" ? "active" : "")">
                                    <a asp-controller="EmployeeLoan" asp-action="Index" style="@(currentController != "EmployeeLoan" ? "color: white;" : "")">Employee Loan Issue</a>
                                </li>
                                <li class="@(currentController == "ShowInstalmentList" ? "active" : "")">
                                    <a asp-controller="ShowInstalmentList" asp-action="Index" style="@(currentController != "ShowInstalmentList" ? "color: white;" : "")">Instalment List</a>
                                </li>
                                <li class="@(currentController == "LoanInstallment" ? "active" : "")">
                                    <a asp-controller="LoanInstallment" asp-action="Index" style="@(currentController != "LoanInstallment" ? "color: white;" : "")">Loan Installment Pay</a>
                                </li>
                            </ul>
                        </li>
                        <!-- ============================================== -->
                        <!-- Joining Formalities Menu (Kept hidden as per original code) -->
                        <li class="submenu" style="display:none">
                            <a href="javascript:void(0);">
                                <img src="~/assets/img/icons/settings.svg" alt="img" />
                                <span>Joining Formalities</span>
                                <span class="menu-arrow"></span>
                            </a>
                            <ul>
                                <li><a asp-controller="JoiningFormalities" asp-action="JoiningFormalities">Entry Joining Formalities</a></li>
                                <li><a asp-controller="EmployeeJoiningFormalities" asp-action="Index">Joining Formalities</a></li>
                            </ul>
                        </li>

                        <!-- ============================================== -->
                        <!-- HR POLICY MENU -->
                        @{
                            var hrPolicyControllers = new[] { "DutySlot", "LeaveType", "LeaveAllotment", "LateAttendance", "OffDays", "HolidayCalendar", "SalaryHeads", "SalaryCalculation", "SalaryCreate", "Overtime", "BonusCalculate" };
                            var isHrPolicyActive = hrPolicyControllers.Contains(currentController);
                        }
                        <li class="submenu @(isHrPolicyActive ? "active" : "")">
                            <a href="javascript:void(0);" class="@(isHrPolicyActive ? "subdrop" : "")">
                                <i data-feather="clipboard" class="me-2"></i>
                                <span>Hr Policy</span>
                                <span class="menu-arrow"></span>
                            </a>
                            <ul style="display: @(isHrPolicyActive ? "block" : "none")">
                                <li class="@(currentController == "DutySlot" ? "active" : "")"><a asp-controller="DutySlot" asp-action="Index" style="@(currentController != "DutySlot" ? "color: white;" : "")">Create Duty Slot</a></li>
                                <li class="@(currentController == "LeaveType" ? "active" : "")"><a asp-controller="LeaveType" asp-action="Index" style="@(currentController != "LeaveType" ? "color: white;" : "")">Create Leave Type</a></li>
                                <li class="@(currentController == "LeaveAllotment" ? "active" : "")"><a asp-controller="LeaveAllotment" asp-action="Index" style="@(currentController != "LeaveAllotment" ? "color: white;" : "")">Leave Calculation Logic</a></li>
                                <li class="@(currentController == "LateAttendance" ? "active" : "")"><a asp-controller="LateAttendance" asp-action="Index" style="@(currentController != "LateAttendance" ? "color: white;" : "")">Late/Early Login/Logout Punishment</a></li>
                                <li class="@(currentController == "OffDays" ? "active" : "")"><a asp-controller="OffDays" asp-action="Index" style="@(currentController != "OffDays" ? "color: white;" : "")">Weekly Off day</a></li>
                                <li class="@(currentController == "HolidayCalendar" ? "active" : "")"><a asp-controller="HolidayCalendar" asp-action="Index" style="@(currentController != "HolidayCalendar" ? "color: white;" : "")">Holiday Calendar</a></li>
                                <li class="@(currentController == "SalaryHeads" ? "active" : "")"><a asp-controller="SalaryHeads" asp-action="Index" style="@(currentController != "SalaryHeads" ? "color: white;" : "")">Salary Heads</a></li>
                                <li class="@(currentController == "SalaryCalculation" ? "active" : "")"><a asp-controller="SalaryCalculation" asp-action="Index" style="@(currentController != "SalaryCalculation" ? "color: white;" : "")">Salary Calculation</a></li>
                                <li class="@(currentController == "SalaryCreate" ? "active" : "")"><a asp-controller="SalaryCreate" asp-action="Index" style="@(currentController != "SalaryCreate" ? "color: white;" : "")">Salary Craete</a></li>
                                <li class="@(currentController == "Overtime" ? "active" : "")"><a asp-controller="Overtime" asp-action="Index" style="@(currentController != "Overtime" ? "color: white;" : "")">Overtime Calculation</a></li>
                                <li class="@(currentController == "BonusCalculate" && currentAction == "Index" ? "active" : "")"><a asp-controller="BonusCalculate" asp-action="Index" style="@(!(currentController == "BonusCalculate" && currentAction == "Index") ? "color: white;" : "")">Bonus Create</a></li>
                                <li class="@(currentController == "BonusCalculate" && currentAction == "GetData" ? "active" : "")"><a asp-controller="BonusCalculate" asp-action="GetData" style="@(!(currentController == "BonusCalculate" && currentAction == "GetData") ? "color: white;" : "")">Bonus List</a></li>
                                <li class="@(currentController == "BonusCalculate" && currentAction == "ShowData" ? "active" : "")"><a asp-controller="BonusCalculate" asp-action="ShowData" style="@(!(currentController == "BonusCalculate" && currentAction == "ShowData") ? "color: white;" : "")">Report</a></li>
                            </ul>
                        </li>
                        <!-- ============================================== -->
                        <!-- ============================================== -->
                        <!-- PAYROLL MENU -->
                        @{
                            var isPayrollActive = currentController == "Attendance";
                        }
                        <li class="submenu @(isPayrollActive ? "active" : "")">
                            <a href="javascript:void(0);" class="@(isPayrollActive ? "subdrop" : "")">
                                <i data-feather="users" class="me-2"></i>
                                <span>Payroll</span>
                                <span class="menu-arrow"></span>
                            </a>
                            <ul style="display: @(isPayrollActive ? "block" : "none")">
                                <li class="@(currentController == "Attendance" ? "active" : "")"><a asp-controller="Attendance" asp-action="Index" style="@(currentController != "Attendance" ? "color: white;" : "")">Attendance</a></li>
                            </ul>
                        </li>
                        <!-- ============================================== -->
                        <!-- ============================================== -->
                        <!-- TAX MENU -->
                        @{
                            var taxControllers = new[] { "TaxtSlabSetup", "ExcludeTax" };
                            var isTaxActive = taxControllers.Contains(currentController);
                        }
                        <li class="submenu @(isTaxActive ? "active" : "")">
                            <a href="javascript:void(0);" class="@(isTaxActive ? "subdrop" : "")">
                                <i data-feather="bar-chart" class="me-2"></i>
                                <span>Tax</span>
                                <span class="menu-arrow"></span>
                            </a>
                            <ul style="display: @(isTaxActive ? "block" : "none")">
                                <li class="@(currentController == "TaxtSlabSetup" ? "active" : "")"><a asp-controller="TaxtSlabSetup" asp-action="Index" style="@(currentController != "TaxtSlabSetup" ? "color: white;" : "")">Taxt Slab Setup</a></li>
                                <li class="@(currentController == "ExcludeTax" ? "active" : "")"><a asp-controller="ExcludeTax" asp-action="Index" style="@(currentController != "ExcludeTax" ? "color: white;" : "")">Start/Stop Income Tax</a></li>
                            </ul>
                        </li>
                        <!-- ============================================== -->
                        <!-- ============================================== -->
                        <!-- PROVIDENT FUND MENU -->
                        @{
                            var pfControllers = new[] { "PfContribution", "PFInterest", "GratuityCalculateSetup", "GratuityCalculate" };
                            var isPfActive = pfControllers.Contains(currentController);
                        }
                        <li class="submenu @(isPfActive ? "active" : "")">
                            <a href="javascript:void(0);" class="@(isPfActive ? "subdrop" : "")">
                                <i data-feather="archive" class="me-2"></i>
                                <span>Provident Fund</span>
                                <span class="menu-arrow"></span>
                            </a>
                            <ul style="display: @(isPfActive ? "block" : "none")">
                                <li class="@(currentController == "PfContribution" ? "active" : "")"><a asp-controller="PfContribution" asp-action="Index" style="@(currentController != "PfContribution" ? "color: white;" : "")">Pf Contribution Setup</a></li>
                                <li class="@(currentController == "PFInterest" ? "active" : "")"><a asp-controller="PFInterest" asp-action="Index" style="@(currentController != "PFInterest" ? "color: white;" : "")">Pf Interest Setup</a></li>
                                <li class="@(currentController == "GratuityCalculateSetup" ? "active" : "")"><a asp-controller="GratuityCalculateSetup" asp-action="Index" style="@(currentController != "GratuityCalculateSetup" ? "color: white;" : "")">Gratuity Setup</a></li>
                                <li class="@(currentController == "GratuityCalculate" ? "active" : "")"><a asp-controller="GratuityCalculate" asp-action="Index" style="@(currentController != "GratuityCalculate" ? "color: white;" : "")">Gratuity Calculate</a></li>
                            </ul>
                        </li>
                        <!-- ============================================== -->
                    </ul>
                </div>
            </div>
        </div>



        <div class="page-wrapper pagehead">
            <div class="content">
                @RenderBody()
            </div>
        </div>
    </div>


    <script src="~/assets/js/jquery-3.6.0.min.js"></script>
    <script src="~/assets/js/feather.min.js"></script>
    <script src="~/assets/js/jquery.slimscroll.min.js"></script>
    <script src="~/assets/js/jquery.dataTables.min.js"></script>
    <script src="~/assets/js/dataTables.bootstrap4.min.js"></script>
    <script src="~/assets/plugins/select2/js/select2.min.js"></script>
    <script src="~/assets/js/bootstrap.bundle.min.js"></script>
    <script src="~/assets/plugins/apexchart/chart-data.js"></script>
    <script src="~/assets/plugins/apexchart/apexcharts.min.js"></script>
    <script src="~/assets/plugins/sweetalert/sweetalert2.all.min.js"></script>
    <script src="~/assets/plugins/sweetalert/sweetalerts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="~/assets/js/script.js"></script>
    <script src="~/js/toastr.min.js"></script>
    <script src="~/dist/jstree.min.js"></script>


    @* For AutoComplete *@
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>

    


    <script>
            $(document).ready(function () {
                    $('.select2').select2({
                           // placeholder: 'Select an option',
                        allowClear: true,
                        width: '100%'
                    });
                });
                       flatpickr("#datePicker", {
                    dateFormat: "Y-m-d",
                    allowInput: true
            });
        $(document).ready(function () {
            // SweetAlert Success
            @if (TempData["SuccessMessageSweet"] != null)
            {
                    var message = System.Web.HttpUtility.JavaScriptStringEncode(TempData["SuccessMessageSweet"]?.ToString() ?? "");
                    <text>
                        Swal.fire({
                            icon: 'success',
                            title: 'Success',
                            text: '@message',
                            confirmButtonText: 'OK'
                        });
                    </text>
            }

            // SweetAlert Error
            @if (TempData["ErrorMessageSweet"] != null)
            {
                    var message = System.Web.HttpUtility.JavaScriptStringEncode(TempData["ErrorMessageSweet"]?.ToString() ?? "");
                    <text>
                        Swal.fire({
                            icon: 'error',
                            title: 'Error',
                            text: '@message',
                            confirmButtonText: 'OK'
                        });
                    </text>
            }

            // Toastr Success
            @if (TempData["SuccessMessage"] != null)
            {
                    var message = System.Web.HttpUtility.JavaScriptStringEncode(TempData["SuccessMessage"]?.ToString() ?? "");
                    <text>toastr.success('@message');</text>
            }

            // Toastr Error
            @if (TempData["ErrorMessage"] != null)
            {
                    var message = System.Web.HttpUtility.JavaScriptStringEncode(TempData["ErrorMessage"]?.ToString() ?? "");
                    <text>toastr.error('@message');</text>
            }
        });


    </script>

    @await RenderSectionAsync("Scripts", required: false)
</body>

</html>
